<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Language Oriented Programming</title>
<meta name="author" content="Kaan Sahin, Active Group GmbH"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="file:///home/kaan/tmp/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="file:///home/kaan/tmp/reveal.js/css/theme/active.css" id="theme"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'file:///home/kaan/tmp/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1 class="title">Language Oriented Programming</h1><h2 class="author">Kaan Sahin, Active Group GmbH</h2><p class="date">Created: 2024-01-30 Tue 11:25</p>
</section>

<section>
<section id="slide-org3b5ad30">
<h2 id="org3b5ad30">Language Oriented Programming</h2>
<div style="max-width:400px;padding-left:130px">

<div id="org55317c5" class="figure">
<p><img src="images/drawing-hands.jpg" alt="drawing-hands.jpg" />
</p>
</div>
</div>
<p>
<i>If you give someone Fortran, he has Fortran.</i>
<i>If you give someone Lisp, he has any language he pleases.</i>  —Guy L. Steele
</p>

</section>
</section>
<section>
<section id="slide-org283f2bf">
<h2 id="org283f2bf">Racket &#x2013; Übersicht</h2>
<div style="display:flex">

<div style="max-width:150px">

<div id="orgb162640" class="figure">
<p><img src="images/racket-logo.svg" alt="racket-logo.svg" class="org-svg" />
</p>
</div>
</div>

<div>
<ul>
<li>Lisp-Dialekt, dynamisch getypt</li>
<li>ermutigt funktionale Programmierung</li>
<li>besonders für Lehre geeignet
<ul>
<li>funktionale Konzepte</li>
<li>Sprache anpassbar</li>

</ul></li>

</ul>
</div>

</div>

</section>
</section>
<section>
<section id="slide-org02f83f5">
<h2 id="org02f83f5">Racket &#x2013; DrRacket</h2>
<div style="max-width:900px;">

<div id="orgaad36e8" class="figure">
<p><img src="images/beispiel-drracket.png" alt="beispiel-drracket.png" />
</p>
</div>
</div>

</section>
</section>
<section>
<section id="slide-org134a019">
<h2 id="org134a019">Racket &#x2013; (Lisp-)Syntax</h2>
<ul>
<li>Zwei Arten von Ausdrücken:
<ul>
<li>Atomare Ausdrücke: <code>17</code>, <code>"Hallo"</code>, <code>sym</code>, <code>#f</code></li>
<li>Forms: <code>(or false (&gt; 2 1))</code></li>

</ul></li>

</ul>

<aside class="notes">
<ul>
<li>Ausdrücke werden evaluiert / ausgewertet zu Werten</li>
<li>Ein Ausdruck mit Klammern ist meistens ein Funktionsaufruf</li>
<li>Heute wird es aber oft was anderes sein, ein Makro oder eine special form</li>

</ul>

</aside>

</section>
</section>
<section>
<section id="slide-orgd3d9da1">
<h2 id="orgd3d9da1">Racket &#x2013; Syntax</h2>
<ul>
<li>Zwei Arten von Ausdrücken:
<ul>
<li>Atomare Ausdrücke: <code>17</code>, <code>"Hallo"</code>, <code>sym</code>, <code>#f</code></li>
<li>Forms: <code>(or false (&gt; 2 1))</code></li>

</ul></li>

</ul>

<p>
<br />
</p>

<p>
zudem noch: 
</p>
<ul>
<li>eckige Klammern: <code>[1 2]</code>, u. a. in <code>cond</code></li>

</ul>
<aside class="notes">
<ul>
<li>Ausdrücke werden evaluiert / ausgewertet zu Werten</li>
<li>Ein Ausdruck mit Klammern ist meistens ein Funktionsaufruf</li>
<li>Heute wird es aber oft was anderes sein, ein Makro oder eine special form</li>

</ul>

</aside>

</section>
</section>
<section>
<section id="slide-orgcdd2fbe">
<h2 id="orgcdd2fbe">Racket &#x2013; Syntax</h2>
<div class="org-src-container">

<pre class="src src-racket"><span style="color: #D0372D;">3</span>, <span style="color: #008000;">"String"</span>, sym, <span style="color: #006FE0;">true</span>                <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Atomare Werte</span>

(<span style="color: #006FE0;">*</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">4</span> <span style="color: #D0372D;">3</span>) <span style="color: #D0372D;">2</span>)                         <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Integer, 14</span>

(<span style="color: #006FE0;">list</span> <span style="color: #D0372D;">1</span> <span style="color: #D0372D;">2</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span> <span style="color: #D0372D;">2</span>) <span style="color: #008000;">"Hi"</span>)               <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Liste, (1 2 3 "Hi")</span>

(<span style="color: #0000FF;">if</span> (<span style="color: #006FE0;">&gt;</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">3</span>) <span style="color: #008000;">"It is true"</span> <span style="color: #D0372D;">100</span>)         <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Integer, 100</span>

(<span style="color: #0000FF;">cond</span>
  [(<span style="color: #006FE0;">&gt;</span> <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>) <span style="color: #008000;">"nicht das Ergebnis"</span>]
  [(<span style="color: #006FE0;">=</span> <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">3</span>) <span style="color: #008000;">"das Ergebnis"</span>]
  [(<span style="color: #006FE0;">&gt;</span> <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">2</span>) <span style="color: #008000;">"nicht das Ergebnis"</span>])     <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">String, "das Ergbnis"</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org50443d6">
<h2 id="org50443d6">Racket &#x2013; Syntax, Definitionen</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define</span> <span style="color: #BA36A5;">pi</span> <span style="color: #D0372D;">3.14159</span>)

(<span style="color: #0000FF;">define</span> (<span style="color: #006699;">umfang</span> radius)
  (<span style="color: #006FE0;">*</span> <span style="color: #006FE0;">pi</span> radius))

(<span style="color: #0000FF;">define</span> (<span style="color: #006699;">factorial</span> n)
  (<span style="color: #0000FF;">if</span> (<span style="color: #006FE0;">=</span> n <span style="color: #D0372D;">1</span>)
    <span style="color: #D0372D;">1</span>
    (<span style="color: #006FE0;">*</span> n (factorial (dec n)))))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgac9d86d">
<h2 id="orgac9d86d">Motivation &#x2013; Makros</h2>

</section>
</section>
<section>
<section id="slide-org6c82638">
<h2 id="org6c82638">Motivation &#x2013; Makros</h2>
<p>
<b>List Comprehensions</b>
</p>

<p>
<br />
</p>

<p>
Python
</p>

<div class="org-src-container">

<pre class="src src-python">[x * x <span style="color: #0000FF;">for</span> x <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(20) <span style="color: #0000FF;">if</span> x % 2 == 0]
</pre>
</div>

<p>
<br />
</p>

<p>
Haskell
</p>

<div class="org-src-container">

<pre class="src src-haskell">[x <span style="color: #BA36A5;">*</span> x <span style="color: #BA36A5;">|</span> x <span style="color: #BA36A5;">&lt;-</span> [1, 2, 3, 4], x <span style="color: #BA36A5;">&gt;</span> 2]
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org0fac760">
<h2 id="org0fac760">Motivation &#x2013; Makros</h2>
<p>
<b>Pattern Matching</b>
</p>

<p>
<br />
</p>

<p>
Elixir
</p>

<div class="org-src-container">

<pre class="src src-elixir"><span style="color: #0000FF;">def</span> <span style="color: #006699;">fun</span>([<span style="color: #008000;">"Hi"</span>, name]), <span style="color: #006FE0;">do:</span> <span style="color: #008000;">"What's up, "</span> &lt;&gt; name &lt;&gt; <span style="color: #008000;">"?"</span>
<span style="color: #0000FF;">def</span> <span style="color: #006699;">fun</span>(lis), <span style="color: #006FE0;">do:</span> <span style="color: #008000;">"something else"</span>

<span style="color: #0000FF;">case</span> {<span style="color: #333333; background-color: #FFFFFF;">1</span>, <span style="color: #333333; background-color: #FFFFFF;">2</span>, <span style="color: #333333; background-color: #FFFFFF;">3</span>} <span style="color: #0000FF;">do</span>
  {<span style="color: #333333; background-color: #FFFFFF;">1</span>, <span style="color: #333333; background-color: #FFFFFF;">2</span>, <span style="color: #333333; background-color: #FFFFFF;">4</span>} <span style="color: #0000FF;">-&gt;</span> <span style="color: #008000;">"this won't match"</span>
  {<span style="color: #333333; background-color: #FFFFFF;">1</span>, <span style="color: #333333; background-color: #FFFFFF;">2</span>, x} <span style="color: #0000FF;">-&gt;</span> x
  <span style="color: #D0372D;">_</span>         <span style="color: #0000FF;">-&gt;</span> <span style="color: #008000;">"if nothing else matches"</span>
<span style="color: #0000FF;">end</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org435acbe">
<h2 id="org435acbe">Motivation &#x2013; Makros</h2>
<p>
Weitere Schreiberleichterung: 
</p>

<ul>
<li>Getter-/Setter-Funktionen</li>
<li>Wiederkehrende Definitionen / Umständlichkeiten</li>

</ul>

<p>
Spracherweiterung via Libraries:
</p>

<ul>
<li>Concurrency-System</li>
<li>DSLs</li>
<li>Statisches Typsystem</li>
<li>. . .</li>

</ul>

</section>
</section>
<section>
<section id="slide-org81568c9">
<h2 id="org81568c9">Racket &#x2013; Evaluation</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (<span style="color: #0000FF;">define</span> (<span style="color: #006699;">foo</span> x y) (<span style="color: #006FE0;">+</span> x y))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgf62d36b">
<h2 id="orgf62d36b">Racket &#x2013; Evaluation</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (<span style="color: #0000FF;">define</span> (<span style="color: #006699;">foo</span> x y) (<span style="color: #006FE0;">+</span> x y))
repl&gt;
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org0276818">
<h2 id="org0276818">Racket &#x2013; Evaluation</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (<span style="color: #0000FF;">define</span> (<span style="color: #006699;">foo</span> x y) (<span style="color: #006FE0;">+</span> x y))
repl&gt; (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org25b46d0">
<h2 id="org25b46d0">Racket &#x2013; Evaluation</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (<span style="color: #0000FF;">define</span> (<span style="color: #006699;">foo</span> x y) (<span style="color: #006FE0;">+</span> x y))
repl&gt; (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
<span style="color: #D0372D;">7</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org54c4f93">
<h2 id="org54c4f93">Racket &#x2013; Evaluationsschritte</h2>
<div class="org-src-container">

<pre class="src src-racket">(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgad055ff">
<h2 id="orgad055ff">Racket &#x2013; Evaluationsschritte</h2>
<div class="org-src-container">

<pre class="src src-racket">(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org94aff2d">
<h2 id="org94aff2d">Racket &#x2013; Evaluationsschritte</h2>
<div class="org-src-container">

<pre class="src src-racket">(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>)
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org092b3e1">
<h2 id="org092b3e1">Racket &#x2013; Evaluationsschritte</h2>
<div class="org-src-container">

<pre class="src src-racket">(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>)

&#8605; (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>)
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgde9d6f2">
<h2 id="orgde9d6f2">Racket &#x2013; Evaluationsschritte</h2>
<div class="org-src-container">

<pre class="src src-racket">(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))

&#8605; (foo <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>)

&#8605; (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">3</span> <span style="color: #D0372D;">4</span>)

&#8605; <span style="color: #D0372D;">7</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org0e1d9cd">
<h2 id="org0e1d9cd">Racket &#x2013; REPL</h2>
<p>
<b>R</b> EAD
</p>

<p>
<b>E</b> VAL
</p>

<p>
<b>P</b> RINT
</p>

<p>
<b>L</b> OOP
</p>

</section>
</section>
<section>
<section id="slide-org3c7206a">
<h2 id="org3c7206a">Kompilation &#x2013; Read und Eval</h2>
<p>
<br />
</p>


<div id="org1fd9327" class="figure">
<p><img src="images/read-eval.svg" alt="read-eval.svg" class="org-svg" width="800px" />
</p>
</div>

<p>
<br />
<br />
</p>

<p>
Der Racket-Reader liest Text und gibt Datenstrukturen (syntax objects) zurück.
</p>

<p>
Der Evaluator nimmt Datenstrukturen (syntax objects) und evaluiert sie zu Werten.
</p>

</section>
</section>
<section>
<section id="slide-org07badc8">
<h2 id="org07badc8">Makros &#x2013; syntax objects</h2>
<p>
Ein syntax object erzeugt man mit <code>#`</code> :
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgcae205d">
<h2 id="orgcae205d">Makros &#x2013; syntax objects</h2>
<p>
Ein syntax object erzeugt man mit <code>#`</code> :
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))<span style="color: #006FE0;">&gt;</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org8405c58">
<h2 id="org8405c58">Makros &#x2013; syntax objects</h2>
<p>
Ein syntax object erzeugt man mit <code>#`</code> :
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))<span style="color: #006FE0;">&gt;</span>

(<span style="color: #0000FF;">define</span> <span style="color: #BA36A5;">variable</span> <span style="color: #D0372D;">5</span>)
#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) variable)
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) variable)<span style="color: #006FE0;">&gt;</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org1870175">
<h2 id="org1870175">Makros &#x2013; syntax objects</h2>
<p>
Einzelnen Code innerhalb eines syntax objects wertet man mit <code>#,</code> aus:
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) #,(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgfe28119">
<h2 id="orgfe28119">Makros &#x2013; syntax objects</h2>
<p>
Einzelnen Code innerhalb eines syntax objects wertet man mit <code>#,</code> aus:
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) #,(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) <span style="color: #D0372D;">4</span>)<span style="color: #006FE0;">&gt;</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgd7dfcd8">
<h2 id="orgd7dfcd8">Makros &#x2013; syntax objects</h2>
<p>
Einzelnen Code innerhalb eines syntax objects wertet man mit <code>#,</code> aus:
</p>

<div class="org-src-container">

<pre class="src src-racket">#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) #,(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">2</span>))
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) <span style="color: #D0372D;">4</span>)<span style="color: #006FE0;">&gt;</span>

(<span style="color: #0000FF;">define</span> <span style="color: #BA36A5;">variable</span> <span style="color: #D0372D;">5</span>)
#`(foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) #,variable)
&#8605; #&lt;syntax:intro.rkt:28:2 (foo (<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>) <span style="color: #D0372D;">5</span>)<span style="color: #006FE0;">&gt;</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org706f959">
<h2 id="org706f959">Makros &#x2013; syntax objects</h2>
<p>
Live-Coding
</p>



</section>
</section>
<section>
<section id="slide-org2f0d204">
<h2 id="org2f0d204">Kompilation &#x2013; Read und Eval</h2>
<p>
<br />
</p>


<div id="orgc1313eb" class="figure">
<p><img src="images/read-eval.svg" alt="read-eval.svg" class="org-svg" width="800px" />
</p>
</div>

<p>
<br />
<br />
</p>

<p>
Der Racket-Reader liest Text und gibt Datenstrukturen (syntax objects) zurück.
</p>

<p>
Der Evaluator nimmt Datenstrukturen (syntax objects) und evaluiert sie zu Werten.
</p>

</section>
</section>
<section>
<section id="slide-orgcb07244">
<h2 id="orgcb07244">Kompilation &#x2013; Read, Eval und Makroexpansion!</h2>
<p>
<br />
</p>


<div id="orgc7d2a0e" class="figure">
<p><img src="images/read-macro-eval.svg" alt="read-macro-eval.svg" class="org-svg" width="900px" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-orgdad93c6">
<h2 id="orgdad93c6">Kompilation &#x2013; Read, Eval und Makroexpansion!</h2>
<p>
<br />
</p>


<div id="org9fd385d" class="figure">
<p><img src="images/read-macro-eval.svg" alt="read-macro-eval.svg" class="org-svg" width="900px" />
</p>
</div>

<p>
<br />
<br />
</p>

<p>
In der Makroexpansion werden Makroaufrufe getätigt.
</p>

<aside class="notes">
<p>
Weil ja READ Datenstrukturen liefert und EVAL Datenstrukturen entgegennimmt,
muss folgen, dass Makros Datenstrukturen konsumieren und zurückgeben
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgf60beb0">
<h2 id="orgf60beb0">Kompilation &#x2013; Read, Eval und Makroexpansion!</h2>
<p>
<br />
</p>


<div id="org52f9a38" class="figure">
<p><img src="images/read-macro-eval.svg" alt="read-macro-eval.svg" class="org-svg" width="900px" />
</p>
</div>

<p>
<br />
<br />
</p>

<p>
Makros nehmen Datenstrukturen (syntax objects) entgegen und geben Datenstrukturen
(syntax objects) zurück.
</p>

</section>
</section>
<section>
<section id="slide-orgf5c342e">
<h2 id="orgf5c342e">Makros</h2>
<p>
<br />
<br />
</p>

<p>
Makros nehmen Datenstrukturen (syntax objects) entgegen und <b>geben Datenstrukturen
(syntax objects) zurück.</b>
</p>

<p>
<br />
</p>

</section>
</section>
<section>
<section id="slide-org543b80d">
<h2 id="org543b80d">Makros &#x2013; Infix</h2>
<p>
Statt 
</p>

<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>)
</pre>
</div>

<p>
wollen wir
</p>

<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>)
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org9f2e1ca">
<h2 id="org9f2e1ca">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define-syntax</span> (<span style="color: #006699;">infix</span> form)
  <span style="color: #0000FF;">...</span>)
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgc278aae">
<h2 id="orgc278aae">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define-syntax</span> (<span style="color: #006699;">infix</span> form)
  (<span style="color: #006FE0;">syntax-parse</span> form
    [(infix <span style="color: #0000FF;">...</span>)
     <span style="color: #0000FF;">...</span>]))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org0b655ef">
<h2 id="org0b655ef">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define-syntax</span> (<span style="color: #006699;">infix</span> form)
  (<span style="color: #006FE0;">syntax-parse</span> form
    [(infix stuff)
     <span style="color: #0000FF;">...</span>]))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org0e5ff07">
<h2 id="org0e5ff07">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define-syntax</span> (<span style="color: #006699;">infix</span> form)
  (<span style="color: #006FE0;">syntax-parse</span> form
    [(infix (zahl1 op zahl2))
     <span style="color: #0000FF;">...</span>]))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org3896274">
<h2 id="org3896274">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define-syntax</span> (<span style="color: #006699;">infix</span> form)
  (<span style="color: #006FE0;">syntax-parse</span> form
    [(infix (zahl1 op zahl2))
     #`(op zahl1 zahl2)]))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgd157a99">
<h2 id="orgd157a99">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgcbc4e7d">
<h2 id="orgcbc4e7d">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))

READER
Datenstruktur: (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgc3818fd">
<h2 id="orgc3818fd">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))

READER
Datenstruktur: (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))

MAKROEXPANSION
&#8605; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))
&#8605; #&lt;syntax(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>)<span style="color: #006FE0;">&gt;</span> [Datenstruktur!]
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org52fc93a">
<h2 id="org52fc93a">Makros &#x2013; Infix</h2>
<div class="org-src-container">

<pre class="src src-racket">repl&gt; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))

READER
Datenstruktur: (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))

MAKROEXPANSION
&#8605; (infix (<span style="color: #D0372D;">2</span> <span style="color: #006FE0;">+</span> <span style="color: #D0372D;">1</span>))
&#8605; #&lt;syntax(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>)<span style="color: #006FE0;">&gt;</span> [Datenstruktur!]

EVAL
#&lt;syntax(<span style="color: #006FE0;">+</span> <span style="color: #D0372D;">2</span> <span style="color: #D0372D;">1</span>)<span style="color: #006FE0;">&gt;</span>
&#8605; <span style="color: #D0372D;">3</span>
</pre>
</div>


</section>
</section>
<section>
<section id="slide-org7270302">
<h2 id="org7270302">String switch</h2>
<p>
<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html">https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html</a>
</p>

<p>
<i>" In the JDK 7 release, you can use a String object in the expression of a</i>
<i>switch statement: "</i>
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000FF;">public</span> <span style="color: #6434A3;">String</span> <span style="color: #006699;">getTypeOfDayWithSwitchStatement</span>(<span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">dayOfWeekArg</span>) {
     <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">typeOfDay</span>;
     <span style="color: #0000FF;">switch</span> (dayOfWeekArg) {
         <span style="color: #0000FF;">case</span> <span style="color: #008000;">"Monday"</span>:
             typeOfDay = <span style="color: #008000;">"Start of work week"</span>;
             <span style="color: #0000FF;">break</span>;
         <span style="color: #0000FF;">case</span> <span style="color: #008000;">"Tuesday"</span>:
         <span style="color: #0000FF;">case</span> <span style="color: #008000;">"Wednesday"</span>:
         <span style="color: #0000FF;">case</span> <span style="color: #008000;">"Thursday"</span>:
             typeOfDay = <span style="color: #008000;">"Midweek"</span>;
             <span style="color: #0000FF;">break</span>;
      ...
</pre>
</div>

<aside class="notes">
<p>
Release war: 2011-07-11	
</p>

</aside>

</section>
</section>
<section>
<section id="slide-orge6790ed">
<h2 id="orge6790ed">String switch</h2>
<div style="max-width:700px;padding-left:130px">

<div id="org4a690c0" class="figure">
<p><img src="images/wittgenstein.png" alt="wittgenstein.png" />
</p>
</div>
</div>

</section>
</section>
<section>
<section id="slide-org5b60070">
<h2 id="org5b60070">String switch</h2>
<p>
Wollen folgende Syntax implementieren
</p>

<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define</span> <span style="color: #BA36A5;">y</span> <span style="color: #008000;">"Work"</span>)

(switch y
        [<span style="color: #0000FF;">case</span> <span style="color: #008000;">"Holiday"</span> <span style="color: #006FE0;">-&gt;</span> <span style="color: #008000;">"I am not around"</span>]
        [<span style="color: #0000FF;">case</span> <span style="color: #008000;">"Work"</span>    <span style="color: #006FE0;">-&gt;</span> <span style="color: #008000;">"How can I help?"</span>])
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orge6203eb">
<h2 id="orge6203eb">String switch</h2>
<p>
<br />
</p>

<div class="org-src-container">

<pre class="src src-racket">(<span style="color: #0000FF;">define</span> <span style="color: #BA36A5;">y</span> <span style="color: #008000;">"Work"</span>)

(switch y
        [<span style="color: #0000FF;">case</span> <span style="color: #008000;">"Holiday"</span> <span style="color: #006FE0;">-&gt;</span> <span style="color: #008000;">"I am not around"</span>]
        [<span style="color: #0000FF;">case</span> <span style="color: #008000;">"Work"</span>    <span style="color: #006FE0;">-&gt;</span> <span style="color: #008000;">"How can I help?"</span>])

&#8605; [MAKROEXPANSION]

(<span style="color: #0000FF;">cond</span>
  [(<span style="color: #006FE0;">eq?</span> y <span style="color: #008000;">"Holiday"</span>) <span style="color: #008000;">"I am not around"</span>]
  [(<span style="color: #006FE0;">eq?</span> y <span style="color: #008000;">"Work"</span>) <span style="color: #008000;">"How can I help?"</span>])
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orgf7e9c53">
<h2 id="orgf7e9c53">String switch</h2>
<p>
Live-Coding
</p>

</section>
</section>
<section>
<section id="slide-orgfa925b9">
<h2 id="orgfa925b9">Domänenspezifische Sprachen</h2>

</section>
</section>
<section>
<section id="slide-org957d52d">
<h2 id="org957d52d">Domänenspezifische Sprachen</h2>
<p>
DSLs erleichtern Anwender:innen, Probleme mit <b>sprachlichen Mitteln aus ihrem
Expertenbereich</b> zu lösen
</p>

<p>
Beispiele:
</p>
<ul>
<li>SQL</li>
<li>HTML und CSS</li>
<li>LaTeX</li>
<li>PlantUML</li>
<li>Prolog</li>
<li>&#x2026;</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgdb3fed4">
<h2 id="orgdb3fed4">Domänenspezifische Sprachen</h2>
<p>
<b>PlantUML</b>
</p>

<p>
<br />
</p>

<div class="column" style="float:left; width: 50%"x>
<div class="org-src-container">

<pre class="src src-plantuml"><span style="color: #0000FF;">@startuml</span>
(*) -up<span style="color: #0000FF;">-&gt;</span> <span style="color: #008000;">"Talk anh&#246;ren"</span>
-right<span style="color: #0000FF;">-&gt;</span>  <span style="color: #008000;">"begeistert sein"</span>
<span style="color: #0000FF;">--&gt;</span>       <span style="color: #008000;">"Racket ausprobieren"</span>
-left<span style="color: #0000FF;">-&gt;</span>   (*)
<span style="color: #0000FF;">@enduml</span>
</pre>
</div>

</div>

<div class="column" style="float:right; width: 45%">

<div id="org9ec6c28" class="figure">
<p><img src="images/plantUMLexample.svg" alt="plantUMLexample.svg" class="org-svg" />
</p>
</div>

</div>


</section>
</section>
<section>
<section id="slide-org6f424d8">
<h2 id="org6f424d8">Eigene Syntax für DSLs in Racket</h2>
<p>
<b>Datenbank-DSL</b>: Key-Value-Paare speichern, anfordern, ausdrucken
</p>

</section>
</section>
<section>
<section id="slide-org11a6b99">
<h2 id="org11a6b99">Eigene Syntax für DSLs in Racket</h2>
<p>
<b>Datenbank-DSL</b>: Key-Value-Paare speichern, anfordern, ausdrucken
</p>

<div class="org-src-container">

<pre class="src src-racket">SHOW-DB
PUT <span style="color: #008000;">"milk"</span> <span style="color: #D0372D;">1.50</span>
PUT <span style="color: #008000;">"water"</span> <span style="color: #D0372D;">1.00</span>
x <span style="color: #006FE0;">=</span> GET <span style="color: #008000;">"water"</span>
PRINT x
SHOW-DB
y <span style="color: #006FE0;">=</span> GET <span style="color: #008000;">"milk"</span>
PRINT <span style="color: #008000;">"Summe"</span>
</pre>
</div>

</section>
</section>
<section>
<section id="slide-org46054df">
<h2 id="org46054df">Eigene Syntax für DSLs in Racket</h2>
<p>
<br />
</p>

<p>
Live-Coding
</p>

</section>
</section>
<section>
<section id="slide-orgce60499">
<h2 id="orgce60499">Takeaways</h2>

</section>
</section>
<section>
<section id="slide-org6d6a44f">
<h2 id="org6d6a44f">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>

</ul>

</section>
</section>
<section>
<section id="slide-org12d1306">
<h2 id="org12d1306">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>
<li>Racket ermöglicht es, Makros sehr einfach zu schreiben</li>

</ul>

</section>
</section>
<section>
<section id="slide-org6d3e114">
<h2 id="org6d3e114">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>
<li>Racket ermöglicht es, Makros sehr einfach zu schreiben
<ul>
<li>Syntax kann sehr einfach erweitert werden</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org3afe944">
<h2 id="org3afe944">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>
<li>Racket ermöglicht es, Makros sehr einfach zu schreiben
<ul>
<li>Syntax kann sehr einfach erweitert werden</li>

</ul></li>
<li>DSLs sind ein wichtiges Werkzeug</li>

</ul>

</section>
</section>
<section>
<section id="slide-org3ba5477">
<h2 id="org3ba5477">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>
<li>Racket ermöglicht es, Makros sehr einfach zu schreiben
<ul>
<li>Syntax kann sehr einfach erweitert werden</li>

</ul></li>
<li>DSLs sind ein wichtiges Werkzeug</li>

</ul>

<p>
<br />
</p>

<p>
↝ DSLs und Racket sind toll
</p>

</section>
</section>
<section>
<section id="slide-org2991649">
<h2 id="org2991649">Takeaways</h2>
<ul>
<li>Makros sind ein mächtiges Werkzeug</li>
<li>Racket ermöglicht es, Makros sehr einfach zu schreiben
<ul>
<li>Syntax kann sehr einfach erweitert werden</li>

</ul></li>
<li>DSLs sind ein wichtiges Werkzeug</li>

</ul>

<p>
<br />
</p>

<p>
↝ DSLs und [Sprachen, die Makros unterstützen] sind toll
</p>

</section>
</section>
<section>
<section id="slide-org28bef56">
<h2 id="org28bef56">Wie gehts weiter?</h2>
<div><div style="max-width:950px;">

<div id="org42f8ecd" class="figure">
<p><img src="images/active-group.png" alt="active-group.png" width="40%" align="left" />
</p>
</div>

<div id="org07a05f6" class="figure">
<p><img src="images/active-group-homepage-qr-code.png" alt="active-group-homepage-qr-code.png" width="15%" align="right" />
</p>
</div>
</div></div>

<ul>
<li>Schulung iSAQB DSL: <b>Domänenspezifische Sprachen</b></li>

</ul>
<p>
<br />
</p>
<ul>
<li>Weitere Schulungen:
<ul>
<li>Einführung in die <b>funktionale Programmierung</b></li>
<li>iSAQB FOUNDATION; iSAQB FUNAR; iSAQB FLEX</li>

</ul></li>

<li><b>Blog</b>: <a href="http:funktionale-programmierung.de">funktionale-programmierung.de</a></li>

</ul>


</section>
</section>
<section>
<section id="slide-org07af714">
<h2 id="org07af714">Wie gehts weiter? &#x2013; OOP</h2>
<ul>
<li><p>
<b>Mittwoch</b>, Mike Sperber und Henning Schwentner:
</p>

<p>
<b>18:30 – 20:00:</b> <i>OO and FP Can’t Be Friends – Yet</i>
</p></li>

</ul>

<p>
<br />
</p>

<ul>
<li><p>
<b>Donnerstag</b>, Mike Sperber und Alexander Lorz:
</p>

<p>
<b>11:00 – 11:45:</b> <i>Qualityland of Confusion</i>
</p></li>

</ul>


</section>
</section>
<section>
<section id="slide-org2c6a2aa">
<h2 id="org2c6a2aa">Add-On &#x2013; DSLs im Alltag</h2>
<p>
<b>DSL für Eventverarbeitung</b>
</p>

<div style="font-size: 90%;">
<div class="org-src-container">

<pre class="src src-clojure">{<span style="color: #D0372D;">:subject</span> <span style="color: #008000;">"Production.Equipment.Alarm.Report. WM23"</span>,
 <span style="color: #D0372D;">:data</span>    {CMD         <span style="color: #008000;">"ALARM_REPORT"</span>,
           ALARM_STATE 1,
           ALARM_ID    6977,
           ALARM_TEXT  <span style="color: #008000;">"equipment door jammed"</span>}}

(<span style="color: #6434A3;">dsl</span>/wait-for-event event
  [(<span style="color: #D0372D;">:subject</span> #<span style="color: #008000;">"Production</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">.Equipment</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">Alarm</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">Report</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">.*"</span> <span style="color: #D0372D;">:as</span> subject)
   ([<span style="color: #D0372D;">:data</span> CMD] <span style="color: #008000;">"ALARM_REPORT"</span> <span style="color: #D0372D;">:as</span> cmd)
   ([<span style="color: #D0372D;">:data</span> ALARM_STATE] 1      <span style="color: #D0372D;">:as</span> alarm-state)
   ([<span style="color: #D0372D;">:data</span> ALARM_ID]           <span style="color: #D0372D;">:as</span> alarm-id)
   ([<span style="color: #D0372D;">:data</span> ALARM_TEXT]         <span style="color: #D0372D;">:as</span> alarm-text)
   (? [<span style="color: #D0372D;">:data</span> ALARM_SEVERITY]   <span style="color: #D0372D;">:as</span> alarm-severity)]
  (<span style="color: #6434A3;">dsl</span>/process-event (make-alarm alarm-id alarm-text alarm-severity)))
</pre>
</div>
</div>

<div style="font-size: 50%;">
<p>
© Marcus Crestani, 2023
</p>
</div>

</section>
</section>
<section>
<section id="slide-org34f6f4f">
<h2 id="org34f6f4f">Add-On &#x2013; DSLs im Alltag</h2>
<p>
<b>Monadische Programme</b> in Clojure
</p>

<div style="font-size: 85%;">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">ping-with-retries-m</span>
  [tries timeout address]
  (<span style="color: #0000FF;">if</span> (&lt;= tries 0)
    (<span style="color: #6434A3;">monad</span>/return <span style="color: #D0372D;">false</span>)
    (<span style="color: #6434A3;">monad</span>/monadic [response (ping-m timeout address)]
                   (<span style="color: #0000FF;">if</span> response
                     (<span style="color: #6434A3;">monad</span>/return response)
                     (ping-with-retries-m (dec tries) timeout address)))))
</pre>
</div>
</div>

<div style="font-size: 50%;">
<p>
© Marco Schneider, 2023
</p>
</div>

</section>
</section>
<section>
<section id="slide-org7f61658">
<h2 id="org7f61658">Add-On &#x2013; DSLs im Alltag</h2>
<p>
<b>Monadische Programme</b> in Haskell
</p>

<div style="font-size: 85%;">
<div class="org-src-container">

<pre class="src src-haskell"><span style="color: #006699;">main</span> <span style="color: #BA36A5;">=</span> <span style="color: #0000FF;">do</span> printLine <span style="color: #008000;">"Hallo, gib Deinen Namen ein: "</span>
          eingabe <span style="color: #BA36A5;">&lt;-</span> readLine
          printLine <span style="color: #008000;">"Hi, "</span> <span style="color: #BA36A5;">++</span> eingabe <span style="color: #BA36A5;">++</span> <span style="color: #008000;">", wie gehts?"</span>
</pre>
</div>


</section>
</section>
<section>
<section id="slide-org555b6a7">
<h2 id="org555b6a7">Add-On &#x2013; riposte</h2>
<p>
<b>Riposte—Scripting Language for JSON-based HTTP APIs</b>
</p>

<p>
<i>by Jesse Alama &lt;jesse@lisp.sh&gt;</i>
</p>

<blockquote>
<p>
Riposte is a scripting language for evaluating JSON-bearing HTTP
responses. The intended use case is a JSON-based HTTP API. It comes with a
commandline tool, riposte, which executes Riposte scripts.
</p>
</blockquote>

</section>
</section>
<section>
<section id="slide-org607d045">
<h2 id="org607d045">Add-On &#x2013; riposte</h2>
<div class="org-src-container">

<pre class="src src-racket"><span style="color: #0000FF;">#lang</span> <span style="color: #BA36A5;">riposte</span>

^Content-Type := <span style="color: #008000;">"application/json"</span>
# <span style="color: #006FE0;">set</span> a base URL
%base := https://api.example.com:8441/v1/

$uuid := @UUID with fallback <span style="color: #008000;">"abc"</span>

GET cart/{uuid} responds with 2XX
</pre>
</div>

</section>
</section>
<section>
<section id="slide-orga35dfa0">
<h2 id="orga35dfa0">Add-On &#x2013; riposte</h2>
<div class="org-src-container">

<pre class="src src-racket"><span style="color: #0000FF;">#lang</span> <span style="color: #BA36A5;">riposte</span>

# Now add something to the cart:

$productId := <span style="color: #D0372D;">41966</span>
$qty := <span style="color: #D0372D;">5</span>
$campaignId := <span style="color: #D0372D;">1</span>

$payload := {
  <span style="color: #008000;">"product_id"</span><span style="color: #006FE0;">:</span> $productId,     # extend JSON syntax:
  <span style="color: #008000;">"campaign_id"</span><span style="color: #006FE0;">:</span> $campaignId,   # <span style="color: #006FE0;">-</span> use Riposte variables
  <span style="color: #008000;">"qty"</span><span style="color: #006FE0;">:</span> $qty                   # <span style="color: #006FE0;">-</span> add comments to JSON
}

POST $payload to cart/{uuid}/items responds with <span style="color: #D0372D;">200</span>

$itemId := /items/0/cart_item_id # extract the item ID

$itemId is an integer
</pre>
</div>
</section>
</section>
</div>
</div>
<script src="file:///home/kaan/tmp/reveal.js/js/reveal.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 't',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,
overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'none', // see README of reveal.js for options
transitionSpeed: 'default',

// Optional libraries used to extend reveal.js
dependencies: [
 { src: 'file:///home/kaan/tmp/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]

});
</script>
</body>
</html>
